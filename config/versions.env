# ==============================================
# Tool Versions Configuration
# ==============================================
# This file defines the exact versions of all development tools
# to ensure reproducible builds across environments.

# Node.js (via nvm)
NODE_VERSION=20.11.0
NVM_VERSION=0.39.7

# Python (via Miniconda)
PYTHON_VERSION=3.12.1
MINICONDA_VERSION=23.11.0

# Rust (via rustup)
RUST_VERSION=1.75.0

# Package Managers
PNPM_VERSION=8.15.0

# Setup Mode Control
SETUP_MODE=${SETUP_MODE:-dev}  # dev | repro

# Repro Mode Settings
ALLOW_LATEST=${ALLOW_LATEST:-true}
PREFER_OFFLINE=${PREFER_OFFLINE:-false}
STRICT_VERSIONS=${STRICT_VERSIONS:-false}

# In Repro-Modus: Override settings
if [ "$SETUP_MODE" = "repro" ]; then
  ALLOW_LATEST=false
  PREFER_OFFLINE=true
  STRICT_VERSIONS=true
fi

# Offline Mode
OFFLINE_MODE=${OFFLINE_MODE:-false}

# Export all variables
export NODE_VERSION NVM_VERSION PYTHON_VERSION MINICONDA_VERSION RUST_VERSION PNPM_VERSION
export SETUP_MODE ALLOW_LATEST PREFER_OFFLINE STRICT_VERSIONS OFFLINE_MODE
# Deterministic version locks
# Set SETUP_ALLOW_LATEST=true to ignore these

NODE_VERSION=20.11.0
PYTHON_VERSION=3.12.1
RUST_VERSION=1.75.0
PNPM_VERSION=8.15.1
UV_VERSION=0.1.18
NVM_VERSION=0.39.7
CONDA_VERSION=latest

# Optionally allow latest
ALLOW_LATEST=${SETUP_ALLOW_LATEST:-false}
